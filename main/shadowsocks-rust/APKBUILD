# Contributor: ai <apk@ai.com>
# Maintainer: ai <apk@ai.com>
pkgname=shadowsocks-rust
pkgver=1.21.0
pkgrel=0
pkgdesc="Rust port of shadowsocks"
url="https://github.com/shadowsocks/shadowsocks-rust"
_update_url="https://github.com/shadowsocks/shadowsocks-rust/archive/refs/tags/"
arch="x86_64"
license="nonfree"
options="!check !strip"
source="
$pkgname-v$pkgver.tar.gz::$_update_url/$pkgname-v$pkgver.tar.gz
$pkgname.initd
$pkgname.conf
"


package() {
	# shadowsocks-rust-server
	install -m755 -D "$srcdir"/ssserver "$pkgdir"/usr/bin/ssserver
        install -Dm755 "$srcdir"/ssserver.initd "$pkgdir"/etc/init.d/ssserver
        install -Dm644 "$srcdir"/config.json -t "$pkgdir"/etc/$pkgname/
}
sha512sums="
cb2eef7e07bbd84291ed5ca1734f271dd361a789037b8295cb61472b4b0beb51c43b290b8b8e0cf0cd57f4d23ab09ecad15e44ce12b2758f8f455610e5bc4b09  snell-server-v4.1.1.zip
cffed4fe0cba272288216e637abe2a83d41993600192e35e25e2d68eaf39b6eb69de38bd2f7ae80ff8cbaff836d696e979a1ae70242cbb64ee77ca451308f716  snell-server.initd
7223fdf8718a9c52e2685d496321ded1a436e181122bf2f93b044148cf9c30cd32c5f883dea81b4436814c8f067472323b10d22d92a16e9a336b86a97c3ed09a  snell-server.conf
"
